<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Working - Options Trader</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div id="root">
        <p>Loading...</p>
    </div>
    
    <script type="text/babel">
        console.log('=== Minimal Working App Starting ===');
        
        try {
            const { useState, useEffect } = React;
            console.log('React hooks loaded successfully');
            
            function MinimalOptionsTrader() {
                console.log('MinimalOptionsTrader component rendering...');
                
                const [activeTab, setActiveTab] = useState('strategies');
                const [strategies, setStrategies] = useState([
                    { id: 1, name: 'Test Strategy 1', icon: 'ðŸ“‹' },
                    { id: 2, name: 'Test Strategy 2', icon: 'ðŸ“‹' }
                ]);
                
                const switchTab = (tabName) => {
                    console.log('Switching to tab:', tabName);
                    setActiveTab(tabName);
                };
                
                return (
                    <div style={{padding: '20px', fontFamily: 'Arial, sans-serif'}}>
                        <h1>Minimal Options Trader</h1>
                        
                        {/* Tab Navigation */}
                        <div style={{display: 'flex', gap: '10px', marginBottom: '20px'}}>
                            <button 
                                style={{
                                    padding: '10px 20px',
                                    backgroundColor: activeTab === 'strategies' ? '#3b82f6' : '#e5e7eb',
                                    color: activeTab === 'strategies' ? 'white' : 'black',
                                    border: 'none',
                                    borderRadius: '5px',
                                    cursor: 'pointer'
                                }}
                                onClick={() => switchTab('strategies')}
                            >
                                ðŸ“Š Strategies
                            </button>
                            <button 
                                style={{
                                    padding: '10px 20px',
                                    backgroundColor: activeTab === 'deployments' ? '#3b82f6' : '#e5e7eb',
                                    color: activeTab === 'deployments' ? 'white' : 'black',
                                    border: 'none',
                                    borderRadius: '5px',
                                    cursor: 'pointer'
                                }}
                                onClick={() => switchTab('deployments')}
                            >
                                ðŸš€ Deployments
                            </button>
                            <button 
                                style={{
                                    padding: '10px 20px',
                                    backgroundColor: activeTab === 'task-manager' ? '#3b82f6' : '#e5e7eb',
                                    color: activeTab === 'task-manager' ? 'white' : 'black',
                                    border: 'none',
                                    borderRadius: '5px',
                                    cursor: 'pointer'
                                }}
                                onClick={() => switchTab('task-manager')}
                            >
                                ðŸ”„ Task Manager
                            </button>
                            <button 
                                style={{
                                    padding: '10px 20px',
                                    backgroundColor: activeTab === 'history' ? '#3b82f6' : '#e5e7eb',
                                    color: activeTab === 'history' ? 'white' : 'black',
                                    border: 'none',
                                    borderRadius: '5px',
                                    cursor: 'pointer'
                                }}
                                onClick={() => switchTab('history')}
                            >
                                ðŸ“ˆ History
                            </button>
                        </div>
                        
                        {/* Tab Content */}
                        {activeTab === 'strategies' && (
                            <div>
                                <h2>ðŸ“Š Strategies Tab</h2>
                                <p>This is the strategies tab content.</p>
                                <ul>
                                    {strategies.map(strategy => (
                                        <li key={strategy.id}>
                                            {strategy.icon} {strategy.name}
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        )}
                        
                        {activeTab === 'deployments' && (
                            <div>
                                <h2>ðŸš€ Deployments Tab</h2>
                                <p>This is the deployments tab content.</p>
                            </div>
                        )}
                        
                        {activeTab === 'task-manager' && (
                            <div>
                                <h2>ðŸ”„ Task Manager Tab</h2>
                                <p>This is the task manager tab content.</p>
                            </div>
                        )}
                        
                        {activeTab === 'history' && (
                            <div>
                                <h2>ðŸ“ˆ History Tab</h2>
                                <p>This is the history tab content.</p>
                            </div>
                        )}
                        
                        <hr style={{margin: '20px 0'}} />
                        <p>âœ… If you can see this and the tabs work, React is functioning correctly!</p>
                    </div>
                );
            }
            
            console.log('About to render MinimalOptionsTrader...');
            const rootElement = document.getElementById('root');
            console.log('Root element:', rootElement);
            
            if (!rootElement) {
                throw new Error('Root element not found!');
            }
            
            ReactDOM.render(<MinimalOptionsTrader />, rootElement);
            console.log('MinimalOptionsTrader rendered successfully!');
            
        } catch (error) {
            console.error('Fatal error in minimal working app:', error);
            document.getElementById('root').innerHTML = `
                <div style="padding: 20px; color: red; font-family: Arial, sans-serif;">
                    <h1>Fatal Error:</h1>
                    <pre>${error.toString()}</pre>
                    <h2>Stack Trace:</h2>
                    <pre>${error.stack}</pre>
                </div>
            `;
        }
    </script>
</body>
</html>
